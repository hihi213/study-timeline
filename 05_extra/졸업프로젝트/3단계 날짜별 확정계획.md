- 25/4/16
	## **✅ 지금 너의 시스템에서** 
	
	## **“크게 먼저 정해야 할 핵심 설계 항목들”**
	
	  
	
	아래 항목들은 한번 정해두면 나중에 뒤집기 어렵고,
	
	모든 하위 설계와 코딩 흐름에 영향을 미치는 **뼈대 구조**야:
	
	---
	
	- ### **🧱 1.** 
	
	### **사용자 공간 구조**
	
	  
	사용자들이 어떤 위치에 속해 있고, 그걸 어떻게 분류할지
	
	**지금까지 확정한 구조**
	기관 → 동 → 호수(Unit) → 방(Room) → 사용자(User)|
	
	→ **Room 단위로 권한 부여**|
	
	📌 **확정됨**, 매우 탄탄
	
	---
	
	- ### **🧱 2.** 
	
	### **권한 부여 단위**
	
	  
	
	사용자 권한을 그룹으로 할지, 개별로 할지, 위치 기반으로 할지
	
	|**현재 결정 방향**|
	|---|
	|**Room → Location** 단위로 권한 부여|
	|→ default, fallback, override 구조로 운영|
	|→ 실제 권한은 계산으로만 처리|
	
	📌 **확정해도 됨**, 유지보수성 / 유연성 / 실시간성 모두 우수
	
	---
	
	### **🧱 3.** 
	
	### **알림/예약 처리 방식**
	
	  
	
	웹 기반 서비스에서 알림을 어떻게 전달할지
	
	|**결정된 전략**|
	|---|
	|PWA + Service Worker + Web Push|
	|→ 브라우저 내 푸시 사용|
	|→ iOS 대응 위해 홈화면 추가 UX 구성|
	
	📌 **확정 가능**, 추후 확장도 쉬움 (카카오/밴드 API 등)
	
	---
	
	### **🧱 4.** 
	
	### **로그인 / 사용자 등록 정책**
	
	  
	
	로그인 방식, 회원가입 방식, 인증 수준
	
	|**현재 방향**|
	|---|
	|기숙사에서 최소 정보(ID)만 받고, 자체 ID/PW 생성|
	|→ 사용자 정보는 최소 (전화번호/성별 X)|
	|→ 사용자 위치 기반 자동 권한 배정|
	|→ JWT + RefreshToken 기반 로그인 유지|
	
	📌 **확정 가능**, 확장성 + 안정성 + 개인정보 최소화까지 확보
	
	---
	
	### **🧱 5.** 
	
	### **기기 구조**
	
	  
	
	세탁기/건조기 등 기기를 어떻게 모델링할지
	
	|**예상 구조**|
	|---|
	|Location(설치 공간) → 다수의 WashingMachine|
	|→ 각각 번호, 상태, 고장 여부 포함|
	
	🔶 거의 확정 가능, 다만
	
	→ **스마트 플러그 or 센서 연동 여부에 따라 상태 처리 방식**은 추후 세부 조정 필요
	
	---
	
	## **✅ 그 외 세부 조정 가능 항목들 (나중에 결정해도 됨)**
	
	|**항목**|**조정 가능?**|**비고**|
	|---|---|---|
	|관리자 화면 UI 흐름|🔄 가능|동/층/룸 필터 + 권한 배정 중심으로 구성 예정|
	|사용자 예약 UI|🔄 가능|권한 필터 후 예약 가능 기기 목록 표시 예정|
	|알림 내용 및 시점|🔄 가능|예약 완료, 종료 5분 전 등 상세 설정 가능|
	|상태 감지 방식|🔄 가능|수동 입력 → 나중에 스마트 플러그 연동 가능|
	|외부 알림 연동 (카카오/밴드)|🔄 가능|구조만 준비, 실제 연동은 추후 선택|
	
	  
	
	---
	
	## **✅ 요약 – 지금 “크게 확정해도 되는 것들”**
	
	|**항목**|**확정 여부**|**이유**|
	|---|---|---|
	|사용자 위치 구조|✅|모든 권한/등록의 기준|
	|권한 부여 모델|✅|Room 기반 + fallback/override 유연성 확보|
	|알림 방식 (PWA)|✅|지금 환경에서 현실적 최선|
	|로그인/등록 정책|✅|개인정보 최소화, 운영 현실 반영|
	|기기 모델링 구조|✅ (연동만 유보)|설치 위치 → 기기 구조는 안정적|
	
	  
- 5/11

### **✅** 

### **졸업 프로젝트 – 기숙사 세탁기 관리 시스템 기능 설계 (확정 버전)**

---

### **✅** 

### **[사용자 기능]**

| **기능**                | **설명**                                                                     |
| --------------------- | -------------------------------------------------------------------------- |
| **1. 로그인/로그아웃**       | - 사용자 로그인 / 로그아웃- PWA로 로그인 상태 유지 (localStorage)                            |
| **2. 출발해요**           | - 기기 선택 후 출발해요 신청- 10분간 도착 대기 상태로 전환- 도착하지 않으면 자동 취소 30분간 출발해요 기능 사용 불가    |
| **3. 도착해요 (NFC인증)**   | - NFC 스캔으로 도착해요 확인- NTAG 424 DNA 동적 URL로 사용자 인증- 인증 완료 시, 사용 등록 가능         |
| **4. 사용 등록**          | - 도착해요 완료 후, 사용 시간 설정 및 등록- 사용 시간 등록 시, 기기 상태 IN_USE로 전환                   |
| **5. 사용 종료 (회수 완료)**  | - 사용 완료 시, 사용 종료 버튼 클릭- 기기 상태를 DONE으로 변경하고 회수 시간 기록                        |
| **6. 무단 사용 신고**       | - 기기가 사용 중이 아닌데 사용 중으로 표시된 경우- 무단 사용 신고 가능- 관리자는 해당 신고를 검토하고, 무단 사용 상태로 전환 |
| **7. 상태 이상 신고**       | - 기기 고장 또는 상태 이상 발견 시 신고- 신고 상태 FAULT_REPORTED로 전환                         |
| **8. 내 기기 확인**        | - 현재 사용 중인 기기 목록 확인- 사용 시간, 남은 시간 표시                                       |
| **9. 알림 확인 (PWA 푸시)** | - 예약 시간 종료, 무단 사용 신고 등 주요 알림 수신- PWA 푸시 알림 및 알림센터에서 확인                     |
| **10. 마이페이지**         | - 사용자 정보 확인 및 비밀번호 변경- 내 신고 내역 / 내 기기 목록 확인                                |

---

### **✅** 

### **[관리자 기능]**

|**기능**|**설명**|
|---|---|
|**1. 관리자 로그인**|- 관리자 전용 로그인 화면|
|**2. 기기 등록/수정/삭제**|- 기기 정보 등록 (위치, 기기명, NFC/QR URL)- 기기 상태 변경 (AVAILABLE, IN_USE, FAULT_REPORTED)|
|**3. 출발해요 / 도착해요 관리**|- 출발해요 대기 중인 사용자 목록 확인- 도착해요 상태 강제 승인|
|**4. 무단 사용 신고 관리**|- 무단 사용 신고 내역 확인- 사용자에게 경고 알림 전송- 신고 내역 기록|
|**5. 상태 이상 신고 관리**|- 고장 신고 내역 확인- FAULT_CONFIRMED로 전환 후, 수리 진행|
|**6. 사용자 관리**|- 사용자 목록 확인- 특정 사용자 권한 변경- 사용 내역 조회|
|**7. 알림 발송**|- 특정 사용자 또는 전 사용자에게 공지 알림 발송|
|**8. 통계/로그 확인**|- 기기별 사용률, 무단 사용 신고 횟수, 고장 신고 내역 등 통계 제공|
|**9. 대체 권한 설정**|- 특정 기기 또는 공간이 고장난 경우- 임시 권한 부여하여 다른 기기 사용 가능하도록 설정|
|**10. 시스템 점검 모드**|- 전체 기기 상태 일괄 변경 (점검 중, 유지보수 중 등)|

---

### **✅** 

### **[기기 상태 흐름 정의]**

|**상태 코드**|**설명**|
|---|---|
|AVAILABLE|사용 가능 상태|
|DEPARTURE|출발해요 대기 중 (10분)|
|ARRIVAL|도착해요 대기 중 (5분)|
|IN_USE|사용 중|
|DONE|사용 완료, 회수 대기|
|RETRIEVED|세탁물 회수 완료, 다시 사용 가능|
|FAULT_REPORTED|고장 신고 접수됨|
|FAULT_CONFIRMED|고장 신고 처리됨|
|OUT_OF_SERVICE|사용 불가 상태|

---

### **✅** 

### **[알림 정책]**

| **이벤트**                                  | **알림 내용**                                 | **알림 대상** |
| ---------------------------------------- | ----------------------------------------- | --------- |
| **출발해요 대기 시작** (이미 한명이 있을시 대기줄 세워~? 말어?) | “출발해요가 시작되었습니다. 10분 내에 도착해요를 완료하세요.”      | 사용자       |
| **출발해요 취소됨**                             | “출발해요가 취소되었습니다. 다시 시도해 주세요.”              | 사용자       |
| **도착했어요 시작**                             | “도착했어요가 시작되었습니다. 5분 내에 사용 등록을 완료하세요.”     | 사용자       |
| **사용 등록 완료**                             | “세탁기 사용이 등록되었습니다. 사용 시간을 확인하세요.”          | 사용자       |
| **사용 종료 시간 도래**                          | “사용 시간이 5분 남았습니다. 세탁물을 회수해 주세요.”          | 사용자       |
| **회수 시간 초과**                             | “세탁물 회수 시간이 초과되었습니다. 다른 사용자가 신고할 수 있습니다.” | 사용자       |
| **무단 사용 신고 접수됨**                         | “무단 사용 신고가 접수되었습니다. 사용 내역을 확인해 주세요.”      | 관리자, 사용자  |
| **고장 신고 접수됨**                            | “기기 고장 신고가 접수되었습니다. 관리자에게 보고되었습니다.”       | 관리자, 사용자  |
| **관리자 공지 발송됨**                           | “시스템 점검 공지가 도착했습니다. 확인해 주세요.”             | 전체 사용자    |

---

### **✅** 

### **[UI/UX 페이지 구조]**

|**페이지**|**기능**|
|---|---|
|**로그인 페이지**|사용자/관리자 로그인|
|**메인 페이지 (사용자)**|출발해요, 도착해요, 사용 등록, 내 기기 확인|
|**기기 목록 페이지**|기기별 상태 확인, 사용 가능 기기 필터링|
|**기기 상세 페이지**|기기 상태 확인, 사용 등록, 상태 신고|
|**알림 센터**|알림 내역 확인, 푸시 알림 관리|
|**마이페이지 (사용자)**|내 정보, 내 기기, 내 신고 내역|
|**관리자 대시보드**|기기 관리, 사용자 관리, 신고 관리, 공지 발송|
|**통계 페이지 (관리자)**|기기별 사용률, 무단 사용 신고 통계|

---

### **✅** 

### **현재 확정된 흐름 요약:**

- ✅ **출발해요 – 도착해요 – 사용 등록** 흐름 구현
    
- ✅ **NTAG 424 DNA 동적 URL 기반 인증**
    
- ✅ **정적 URL로 대체 시연 가능**
    
- ✅ **웹사이트 기반 (React + Spring Boot + PWA)**
    
- ✅ **사용자와 관리자 기능 분리**
    
- ✅ **알림 시스템 (PWA 푸시 알림)**



### **1. 사용자 관리 기능**

