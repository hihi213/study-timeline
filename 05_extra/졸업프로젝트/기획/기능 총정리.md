**기숙사 공용 자원 관리 웹앱 – 기능 흐름 및 모바일 와이어프레임 설계 개요**

⸻
### 🔹 공통 설계 원칙
- **모바일 우선 PWA**
- **상태 기반 UI**
- **간결한 정보 입력 + 단계적 전환형 인터페이스**
- **사용자 권한 기반 UI 차등 제공 (일반 사용자 / 층별장 / 관리자)**
- **푸시 알림 기능 내장 (Service Worker 기반)**
⸻
## **✅ 전체 기능 구조 요약**
---

### 🔹 1.냉장고 보관 관리

#### **👤 사용자 기능**

- NFC 태그 스캔 →물품 등록페이지로 이동: 제품명, 유통기한, 메모 등록 그 url는 제품 상세페이지로 업데이트 제품명, 유통기한, 등록일, 마지막 검사일이 표시
	- 이때 상세페이지의 메모는 유저 본인에게만 보임
- 물품 수정: 마지막 검사일 이후 이름, 유통기한 수정 시 검사 이후 추가된 항목으로 분류되어 검사관에게 검사대상임을 표시한다.
- 물품 삭제
- 유통기한 임박 3일전 알림 설정
- 알림 허용: 검사일 하루 전 알림 여부 설정

#### **🧑‍💼 검사자 기능 (층별장)**
- 태그 스캔 → 등록되었다면 url이 상세페이지임을 확인해 등록 여부 확인
	- 일반유저가 아닌 검사자가 태그스캔을 했다면 해당 상세페이지는 검사일이 그 당일로 업데이트가 된다
- 검사 기준:
    - 전체 포장 상태
    - 검사 이후 추가된 항목의 이름과 유통기한 기입 정확한지 확인
- 벌점 부여 UI: 검사자에게만 있는 기능
    - 사유 선택(포장 미흡/유통기한 초과/기타) 및 상세 입력
    - 전송 (단, 벌점 수정은 관리자만 가능)
- 검사자는 검사예정일을 등록, 수정, 삭제 할수있다. 
	- 냉장고 메인 화면 또는 마이페이지 상단에 **“다음 검사 예정일: 5월 25일(토)”** 같은 안내 배치
	- 검사자는 그걸 클릭해 다음 검사예정일을 등록, 수정 삭제할수있다.
---

### **🔹 2.** 
### **도서 대출 관리**
#### **👤 사용자 기능**

- 도서번호 입력 → 대출, 반납
- 마이페이지:
    - 현재 대출 목록
    - 과거 대출 내역
- 확장 기능:
    - 대출 기간 연장
    - 책 찾기 (이름 → 번호, 예약상태 표시)
	    - 책의 상태는 예약중, 대출중, 분실 등으로 분류
    - 예약 신청
    - 벌점/상점 부여 시스템
        - 관리자가 설정한 대출기간을 넘어 대출시 벌점 자동부여
	- 알림
		- 대출기간 도달 3일전에 알림을 준다
		- 벌점 부여시 알림을 준다
    

#### **🔒 도난 방지 고려**

- 책마다 코드 부착 + 출입문 RFID 시스템
    

---

### **🔹 3.** **스터디룸 대여**

#### **👤 사용자 기능**
- 매주 월요일 → 일주일 예약 오픈
- 예약 현황 대시보드
- 이번 주 예약 내역 확인 및 예약과 취소
- 무단 사용/ 예약하고 사용안함
    
#### **⛏️ 확장**
- 벌점/상점 부여 시스템
    - 예약하지 않고 사용 신고를 받으면 벌점 자동부여
    - 예약하고 사용안함 신고를 받으면 벌점 자동부여

---

### **🔹 4.**  **세탁기 사용 인증 시스템**
#### **🔄 상태 흐름 기반 UI**

- 사용 가능 → 사용 중 → 사용시간종료(DONE) ->사용가능
    - 이때 사용시간 종료상태에서 세탁물 회수를 해야 사용가능상태로 전환됨

#### **👤 사용자 기능 (상태별 세부 흐름 있음)**

- 본인 사용 중: 시간 수정, 사용 종료
    
- 타인 사용 중: 시간 수정후 시간수정했다고 통보알림(이때 수정한 사람 기록됨), 사용시간종료 5분 전 알림 신청
    
- 사용 종료:
    - 타인: 기기가 DONE 상태로 전환되고 **5분이 지나도 회수되지 않으면 기다리고있어요, 세탁물 빼놨어요 보내기 버튼 활성화**
        - 사용자는 수동으로 알림 전송 가능하지만, **1회만 허용** (버튼 클릭 시 비활성화됨)
        - 세탁물 빼놨어요 클릭시 사용가능상태로 기기 강제 상태 전환
		- 반복 클릭은 불가, 알림 전송은 기록에 남김 (incident_logs 등)
    - 기존 사용자: 회수 완료, 기기상태이상 신고
        
- 사용 가능: 돌릴시간, 사용완료시간 7분전 알림 전송여부 선택
	- 처음에는 표준시간 고정후 이를 수정하는 방식으로
		- 세탁기 38분 고정-> 분단위로 +/- 수정, 직접 시간입력
		- 건조기 50분 고정 -> 10분단위로 +/-, 직접 시간입력
    - 이전사용자에게 타인 알림 전송 (예: “세탁물 빼놨어요”)
    - 기기 등록을 하지 않고 사용하는 경우=> 남은 시간 기록해 무단사용 신고 → 미등록 기기 전환- 상태는 지정 시간 후 자동 AVAILABLE로 전환
    - 시간 커스텀 2개 넣을 공간 mvp에서 마련
    - 확장기능
	    - 커스텀 2개가있고, 이를 수정, 추가 가능 
	    - -> 클릭시 커스텀에 설정된 시간, 알림전송여부가 자동 설정됨
	    - 그래서 바로 사용 시작을 누르면 됨

---

### **🔹 5.**  **테니스장 대여 (확장 예정)**

- 스터디룸과 같은 시스템
- 주간 현황표에 같이 운동해요 표시로 같이 운동할 사람 모집가능

---

### **6.**  외박 신청 기능
- 외출 알림: 오후 11시, 외출상태인데 외박미신청자에게 알림
#### 7. 이번 주 급식 보기
- 기숙사 홈페이지의 급식메뉴를 불러와 보여줌
- 관리자가 수정, 추가, 삭제도 가능
### 8. 기타 확장기능(아직 논의중)
- 익명 게시판, 댓글, 대댓글 (2차 확장)
- 1:1 채팅, 다중 채팅 (3차 확장)

---

### **🔹 9.**  **마이페이지 기능**
- **알림 센터**: 모든 알림 및 공지 모음
- **알림 설정**: 냉장고, 세탁실, 책, 스터디룸 등 개별 On/Off
- **내역 확인**: 각 기능별 사용 내역 및 예약 취소

---

## **🛠️ 관리자 기능**

- 별도 경로페이지: /admin/...
- 통계 및 사용 현황 확인
- 월요일, 주 단위로 벌점, 상점 부여 현황 대시보드
- 유저조회후 그유저의 날짜별 여태 벌점, 상점 확인후
	- 벌점/상점 수정 권한 (층별장은 부여만 가능 수정 불가)
	- 상점, 벌점 추가부여 권한
		- 관리자가 상세내역 입력 필수
- 모든유저에게 공지 전달




안녕하세요.

앞서 친절하게 안내해주신 개인정보 보호 정책을 바탕으로,  
저희 시스템은 기숙사 시스템과의 연동을 최소화한 구조로 재설계하여 아래와 같이 다시 질문드리고자 합니다!

 먼저 기숙사 시스템과의 연동 없이, 사용자가 직접 이름, 방번호, 개인번호 등을 입력해 자체 회원가입 방식으로 운영할 예정

홈페이지 다운시 제 시스템에서 외박신청하는건 정책상 불가하니 제외하고, 아래 2가지가 가능할까요

1.  외박 미신청자 알림 (기존: 외박 미신청자 명단을 수신하여 자체 판단 및 저장)
• 기존에는 외박 여부 판단을 위해 기숙사 측으로부터 외박 신청 여부, 외출 기록 등 상세 정보를 전달받아 자체적으로 판단 및 저장
• 변경된 구조에서는 외박 여부 판단은 전적으로 기숙사 시스템에서 수행하며,
   저희 시스템에는 알림 전송을 위한 최소 정보(ID 등)만 전달
• 전달된 정보는 저장하지 않고, 사용자에게 알림만 전송하는 비저장 구조로 운영

2. 벌점 연동 (기존: 기숙사 DB와 직접 연결)  
• 저희 시스템은 벌점을 직접 부여하지 않음  
• 도서 연체 등 자동 기록 및 층별장의 벌점 사유 기록은 내부에 저장  
•  기숙사 측에서 주 1회 조회 또는 다운로드할 수 있도록 읽기 전용 API를 제공하며, 기숙사 시스템에서 최종 반영되게 함

만약 본 연동 제안이 긍정적으로 검토될 수 있다면,  
해당 연동은 기숙사 시스템 내 별도의 개발 협조가 필요한 사안이므로,  
저희 시스템의 모든 기능이 구현되고 일정 기간 운영 경험이 축적되어 검증이 완료된 이후,  
정식으로 협조를 요청드려 확장 기능 형태로 기숙사생 분들께 제공할 계획입니다.

다만 실제로는, 외부 시스템과의 실시간 연동이나 사용자 정보 전달이  
제 판단보다 훨씬 더 엄격하게 제한되거나, 사전 승인을 필요로 하는 민감한 사안일 수 있으며,  
기숙사 시스템이 외주 개발되었거나 내부에서 기능 수정이나 API 연동 구성 자체가  
현실적으로 어려운 구조일 수 있다는 점도 충분히 인지하고 있습니다.

이러한 상황에서 해당 연동이 정책상 부담되거나 협조가 어려운 경우에는,  
위 두 기능(외박 미신청자 알림, 벌점 연동)을 제외한 범위 내에서만
문제없이 운영 가능한 기능들로 먼저 기숙사생 분들께 제공드릴 수 있도록 하겠습니다.

검토해주셔서 감사드리며, 피드백 주시면 적극 반영하겠습니다.

감사합니다.  
김승현 드림