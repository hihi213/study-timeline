**기숙사 공용 자원 관리 웹앱 – 기능 흐름 및 모바일 와이어프레임 설계 개요**

⸻
### 🔹 공통 설계 원칙
- **모바일 우선 PWA**
- **상태 기반 UI**
- **간결한 정보 입력 + 단계적 전환형 인터페이스**
- **사용자 권한 기반 UI 차등 제공 (일반 사용자 / 층별장 / 관리자)**
- **푸시 알림 기능 내장 (Service Worker 기반)**
⸻
- ## 기능 1: 회원가입,로그인  
	- 메인페이지 접속  
	- 로그인 필요시 회원가입, 로그인 모달 팝업 띄우기  
	- 로그인 성공시 팝업 자동닫기  
	- 1_1 사용자 메인페이지의 모달팝업
		- 아이디: 자신의 호실번호, 개인번호 입력시 자동생성  
			- 이름 입력  
			- 비밀번호 등록  
			- 비밀번호 변경,초기화위한 이메일 등록  
	- 1_2 관리자 메인페이지의 모달팝업  
		- 개발자가 따로 최고관리자 아이디, 비밀번호를 제공  
		- 아이디: 수동입력(중복확인)  
		- 이름 입력  
		- 비밀번호 등록  
		- 비밀번호 변경,초기화위한 이메일 등록
- ## 기능2: 관리자 기능 
	- 임시 상벌점  
		- 월별로 탭만들어서 내역 나열  
		- 받은사람 정보(호실/개인번호)/ 유형(냉장고, 세탁실..등등)/벌점몇점/사유/기록삭제  
		- 관리자가 이걸보고 상벌점반영여부를 판단하고 반영한다.  
	- 유저관리  
		- 호실,개인번호로 개인조회가능  
		- 동 선택: 기본 1동으로 설정됨 ([✔] 1동 기본 체크)  
			- → 옆에 동 추가/수정/삭제 버튼  
		- 탭 구성: 각 층별로 탭 형식 ([5층] [6층] [7층] ...)  
			- → 옆에 층 추가/수정/삭제 버튼  
		- 층 내부: 층에 속한 호실들 + 각 호실에 속한 사용자들 표 형태로 나열  
			- 층별로 호실/개인번호/이름/퇴사/이사/권한(유저 수정은 본인이 마이페이지에서만 수정하게하자 이름,비밀번호,이메일 이런것들)  
			- 호실 드롭다운으로 호실 하나만 확인가능  
			- 호실 드롭다운 옆에 현재 선택된 호실 삭제  
			- 호실 삭제는 실제 삭제 대신 is_active = false 처리  
			- 삭제 시 안내 팝업:  
			- “해당 호실에 사용자가 존재할 경우, 먼저 퇴사 처리해야 합니다.”  
		- 냉장고 점검일별 폐기처분목록 드롭다운  
			- 냉장고이름탭  
				- 탭에 해당하는 층별장 설정/호실/개인번호도 설정하는 공간 아래에 
				- 해당 점검일의 폐기처분 목록나열  
					- 피대상자/물품이름/사유  
				- 냉장고 추가,삭제  
		- 세탁실 조회, 설정  
			- 년도/월별(1~12)드롭버튼  
			- 성별(여성/남성/공용), 기기유형(세탁기/건조기)별,현재 비활성화 여부(누가/무슨사유로/처리여부)선택해서 목록 확인  
			- 세탁기 번호/월예약횟수/월 사용시간/월 비활성화 횟수/비활성화상태/기기삭제  
		- 스터디룸 조회, 설정  
			- (예약 횟수순 스터디룸 나열 옵션)  
			- 스터디룸 1/ 월예약횟수/월 사용시간/삭제/비활성화(수리중)  
			- 스터디룸 2/ 월예약횟수/월 사용시간/삭제/비활성화(수리중)  
			- 스터디룸 추가  
		- 도서관 도서조회, 설정  
			- 연체도서목록 확인/ 월 평균 대출횟수/ 월평균 반납기한  
			- 전체 도서 조회(대출횟수순, 예약횟수순 책목록 나열, 책번호순 나열(기본설정))  
			- 책번호/책이름수정/월 대출횟수/ 월 예약횟수/ 비활성화(분실)/삭제  
			- 도서 추가  
		- 프로그램 추가/관리  
			- 프로그램 추가,수정,삭제  
		- 로그  
			- 사용자/관리자(자신의 로그만, 최고 관리자만 모든 로그 보임)/기간별로 검색, 조회  
			- 엑셀로 내보내기 기능제공  
		- 관리자 각각 자신의 비밀번호 초기화/변경 가능(메일인증으로)
- ## 기능3: 냉장고 보관관리
	- 사용자 기능  
		- NFC 태그 스캔 
			- → 등록되지 않았으면 **등록 페이지**
				- 제품명, 유통기한, 메모 수동, 수정일, 마지막 검사일이 자동기입
				- 물품 수정: 마지막 검사일 이후 이름, 유통기한 수정 시 검사 이후 추가된 항목으로 분류되어 검사관에게 검사대상임을 표시한다. 
				- 이때 메모는 유저 본인에게만 보임  
			- → 등록되어 있으면 **상세 페이지**로 렌더링
				- 물품 수정: 마지막 검사일 이후 이름, 유통기한 수정 시 검사 이후 추가된 항목으로 분류되어 검사관에게 검사대상임을 표시한다. 
				- 물품 삭제   
				- 이때 메모는 유저 본인에게만 보임  
		- 만약에 로그인이 되지 않은 상태였다면 로그인 모달창이 뜨고, 로그인 완료후 등록페이지/상세페이지로 자동으로 넘어간다
	- 검사자 기능 (일반사용자중에 권한을 부여받은 층별장)  
		- 태그 스캔 → 등록되었다면 url이 상세페이지임을 확인해 등록 여부 확인  
			- 일반유저가 아닌 검사자가 태그스캔을 했다면 해당 상세페이지는 검사일이 그 당일로 업데이트가 된다  
		- 검사자의 검사 기준:  
			- 전체 포장 상태  
			- 검사 이후 추가/수정된 항목의 이름과 유통기한 기입 정확한지 확인  
			- 벌점 부여 UI: 검사자에게만 있는 기능  
				- 사유 선택(포장 미흡/유통기한 초과/기타) 및 상세 입력  
				- 전송 (단, 벌점 수정은 관리자만 가능)  
		- 검사자는 검사예정일을 등록, 수정, 삭제 할수있다.  
			- 냉장고 메인 화면 또는 마이페이지 상단에 “다음 검사 예정일: 5월 25일(토)” 같은 안내 배치  
			- 검사자는 그걸 클릭해 다음 검사예정일을 등록, 수정 삭제할수있다.
- ## 기능 4: 세탁기 사용 인증시스템  
	- 🔄 상태 흐름 기반 UI  
		- 사용 가능(AVAILABLE) → 사용 중(IN_USE) → 사용시간종료(DONE) ->사용가능 (AVAILABLE)
		- 이때 사용시간 종료상태에서 세탁물 회수를 하고 사용종료/혹은 타인이 세탁물 빼놨어요 클릭시 사용가능상태로 전환됨 
		- UNAUTHORIZED_USE
			- 기기 등록을 하지 않고 사용하는 경우
			- 남은 시간 기록해 무단사용 신고 → 미등록 기기 전환- 상태는 지정 시간 후 자동 AVAILABLE로 전환
		- 비활성화 신고,접수(관리자수동고장처리)은 UI에선 사용불가 하나 공통된 UI로 보임  
			- ERROR_REPORTED비활성화 신고
			 - OUT_OF_SERVICE:비활성화 접수/ 관리자가 수동고장처리
	- 👤 사용자 기능 (상태별 세부 흐름 있음)  
		- 사용중 상태
			- 본인   
				- 남은시간
				- 시간수정  
				- 사용종료   
			- 타인
				- 남은시간
				- 시간 수정 (사용자에게 알림감, 수정한 사람 기록됨)
				- 사용시간종료 5분 전 알림 신청   
		- 사용시간종료상태:  
			- 타인: 기기가 DONE 상태로 전환되고 5분이 지나도 회수되지 않으면 기다리고있어요, 세탁물 빼놨어요 보내기 버튼 활성화  
				- 사용자는 수동으로 알림 전송 가능하지만, 1회만 허용 (버튼 클릭 시 비활성화됨)  
				- 세탁물 빼놨어요 클릭시 사용가능상태로 기기 강제 상태 전환  
				- 반복 클릭은 불가, 알림 전송은 기록에 남김 
			- 기존 사용자: 회수 완료, 이기기 비활성화 요청
				- 비활성화요청  
					- 고장사유 적기  
					- 고장신고 보내기
		- 사용 가능상태
			- 돌릴시간
				- 기본시간에서 십분단위, 일분단위 업다운  
					- 세탁기 38분 고정->10분, 1분단위로 +/- 수정  
					- 건조기 50분 고정 -> 10분단위로 +/- 수정  
			- 사용완료시간 7분전 알림 전송여부 선택  
			- 이전사용자에게 잔여세탁물 가져가라는 알림 전송 (예: “세탁물 빼놨어요”)  
			- 시간 커스텀 이름 1개 넣을 공간 mvp에서 마련  
				- -> 클릭시 커스텀에 설정된 시간이 자동설정됨  그래서 그 기준에서 수정하거나 시작하면됨
			- 사용가능 상태이지만 사실 누가 사용등록을 하지 않고 사용중일때  
				- 남은 시간을 설정  
				- 이때 알림받기는 비활성화가 기본
		- 무단사용  
			- 남은시간  
			- 시간수정(모두가 가능)  
			- 사용종료(모두가 가능)
		- 고장접수상태  
			- 고장사유, 신고인 기록  
			- 고장해제버튼(관리자만 활성화)
- ## 기능5: 도서 대출 관리  
	- 👤 사용자 기능  
		- 도서관 도서 목록이 도서번호 100단위로 분류선택 가능하게 번호로 나열도되어있음 목록중 하나 클릭시->도서 상세페이지
		- 도서번호 입력해 도서목록조회->도서 상세페이지
	- 도서상세페이지
		- 
		현재 대출 목록  
		과거 대출 내역  
		확장 기능:  
		대출 기간 연장  
		책 찾기 (이름 → 번호, 예약상태 표시)  
		책의 상태는 예약중, 대출중, 분실 등으로 분류  
		예약 신청  
		벌점/상점 부여 시스템  
		관리자가 설정한 대출기간을 넘어 대출시 벌점 자동부여  
		알림  
		대출기간 도달 3일전에 알림을 준다  
		벌점 부여시 알림을 준다
- ## 기능 6: 스터디룸 대여  
	- 👤 사용자 기능  
		- 매주 월요일 → 일주일 예약 오픈  
		- 예약 현황 대시보드  
			- 이번 주 예약 내역 확인 및 예약과 취소  
- ## 기능7: 프로그램
- ## 기능8: 급식
- ## 기능9: 외박신청페이지 바로가기